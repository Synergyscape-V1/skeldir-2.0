# Coverage Manifest - B0.1 Baseline
# Maps requirements to OpenAPI operations and canonical events
#
# Structure:
#   domain_name:
#     requirements:
#       - requirement_id: Unique identifier
#         operation_id: OpenAPI operationId
#         status: implemented|planned|deferred
#         canonical_event: Canonical event name (if applicable)
#         description: Human-readable description

authentication:
  requirements:
    - requirement_id: AUTH-001
      operation_id: login
      status: implemented
      canonical_event: null
      description: User authentication via credentials

    - requirement_id: AUTH-002
      operation_id: refreshToken
      status: implemented
      canonical_event: null
      description: Token refresh for existing sessions

attribution:
  requirements:
    - requirement_id: ATTR-001
      operation_id: getRealtimeRevenue
      status: implemented
      canonical_event: purchase_completed
      description: Real-time revenue tracking and attribution

reconciliation:
  requirements:
    - requirement_id: RECON-001
      operation_id: getReconciliationStatus
      status: implemented
      canonical_event: null
      description: Payment reconciliation status tracking

export:
  requirements:
    - requirement_id: EXPORT-001
      operation_id: exportRevenue
      status: implemented
      canonical_event: null
      description: Revenue data export functionality

health:
  requirements:
    - requirement_id: HEALTH-001
      operation_id: getHealthStatus
      status: implemented
      canonical_event: null
      description: System health monitoring

    - requirement_id: HEALTH-002
      operation_id: readinessProbe
      status: implemented
      canonical_event: null
      description: Kubernetes readiness probe

webhooks_shopify:
  requirements:
    - requirement_id: SHOP-001
      operation_id: shopifyOrderCreated
      status: implemented
      canonical_event: purchase_completed
      description: Shopify order creation webhook

webhooks_stripe:
  requirements:
    - requirement_id: STRIPE-001
      operation_id: stripeChargeSucceeded
      status: implemented
      canonical_event: purchase_completed
      description: Stripe charge succeeded webhook

    - requirement_id: STRIPE-002
      operation_id: stripeChargeRefunded
      status: implemented
      canonical_event: refund_issued
      description: Stripe charge refunded webhook

webhooks_woocommerce:
  requirements:
    - requirement_id: WOO-001
      operation_id: woocommerceOrderCompleted
      status: implemented
      canonical_event: purchase_completed
      description: WooCommerce order completed webhook

webhooks_paypal:
  requirements:
    - requirement_id: PAYPAL-001
      operation_id: paypalPaymentSaleCompleted
      status: implemented
      canonical_event: purchase_completed
      description: PayPal sale completed webhook

llm_explanation:
  requirements:
    - requirement_id: LLM-001
      operation_id: explainAttributionEntity
      status: implemented
      canonical_event: null
      description: LLM-powered natural language explanation for attribution entities

llm_investigations:
  requirements:
    - requirement_id: LLM-002
      operation_id: createInvestigation
      status: implemented
      canonical_event: null
      description: Start bounded agent investigation

    - requirement_id: LLM-003
      operation_id: getInvestigationStatus
      status: implemented
      canonical_event: null
      description: Poll investigation status

llm_budget:
  requirements:
    - requirement_id: LLM-004
      operation_id: createBudgetOptimization
      status: implemented
      canonical_event: null
      description: Generate budget optimization recommendation

    - requirement_id: LLM-005
      operation_id: getBudgetRecommendation
      status: implemented
      canonical_event: null
      description: Get budget optimization recommendation
