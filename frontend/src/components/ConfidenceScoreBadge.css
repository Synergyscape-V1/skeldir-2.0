/* ConfidenceScoreBadge Animations */

/* Badge entrance animation */
.confidence-badge {
  animation: badgeScaleIn 300ms cubic-bezier(0.4, 0, 0.2, 1) 150ms forwards;
  opacity: 0;
  will-change: opacity, transform;
}

@keyframes badgeScaleIn {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1.0);
  }
}

/* Tier dot entrance (staggered 100ms after badge) */
.tier-dot {
  animation: dotFadeIn 200ms ease 250ms forwards;
  opacity: 0;
  will-change: opacity, transform;
}

@keyframes dotFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  100% {
    opacity: 1;
    transform: scale(1.0);
  }
}

/* High tier pulse animation */
.tier-dot-high {
  animation: dotFadeIn 200ms ease 250ms forwards,
             dotPulse 1.5s ease-in-out 450ms infinite;
}

@keyframes dotPulse {
  0%, 100% {
    transform: scale(1.0);
    box-shadow: 0 0 8px rgba(70, 139, 230, 0.6);
  }
  50% {
    transform: scale(1.3);
    box-shadow: 0 0 12px rgba(70, 139, 230, 0.8);
  }
}

/* Percentage display */
.confidence-percentage {
  transition: color 200ms ease;
  transform: translateZ(0); /* GPU layer */
}

/* Badge hover state */
.confidence-badge:hover {
  transform: scale(1.05);
  transition: transform 150ms ease-out, box-shadow 150ms ease-out;
}

/* Tooltip animation */
.confidence-tooltip {
  animation: tooltipSlideIn 200ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  will-change: opacity, transform;
}

@keyframes tooltipSlideIn {
  0% {
    opacity: 0;
    transform: translateY(-6px);
  }
  100% {
    opacity: 1;
    transform: translateY(-2px);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .confidence-badge {
    animation: fadeInSimple 200ms ease forwards;
  }
  
  @keyframes fadeInSimple {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .tier-dot, .tier-dot-high {
    animation: fadeInSimple 200ms ease 250ms forwards;
  }
  
  .confidence-badge:hover {
    transform: none;
  }
  
  .confidence-tooltip {
    animation: fadeInSimple 150ms ease forwards;
  }
}

/* High contrast mode support */
@media (forced-colors: active) {
  .tier-dot {
    border: 2px solid currentColor;
  }
  
  .confidence-tooltip {
    border: 1px solid currentColor;
  }
}

/* Backdrop filter fallback */
@supports not (backdrop-filter: blur(12px)) {
  .confidence-badge {
    background: var(--confidence-badge-bg) !important;
  }
  
  .confidence-tooltip {
    background: var(--confidence-tooltip-bg) !important;
  }
}
