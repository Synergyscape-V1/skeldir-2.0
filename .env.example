# Skeldir Backend Environment Template
# Copy to .env and replace placeholder values with production credentials.

# Database Configuration
# Example uses asyncpg driver and requires SSL for Neon.
DATABASE_URL=postgresql+asyncpg://user:password@host:5432/skeldir?sslmode=require

# Tenant Authentication
# Header clients must send to authenticate with tenant API key.
TENANT_API_KEY_HEADER=X-Skeldir-Tenant-Key

# JWT Authentication (Phase 1)
# One of AUTH_JWT_SECRET or AUTH_JWT_JWKS_URL must be configured in production.
# AUTH_JWT_ALGORITHM must match the signing algorithm (e.g., HS256, RS256).
AUTH_JWT_SECRET=
AUTH_JWT_ALGORITHM=
AUTH_JWT_ISSUER=
AUTH_JWT_AUDIENCE=
AUTH_JWT_JWKS_URL=

# Platform Credentials (Phase 2)
# Symmetric key for pgcrypto token encryption (required to store platform tokens).
PLATFORM_TOKEN_ENCRYPTION_KEY=
# Key identifier for rotation/audit (optional but recommended).
PLATFORM_TOKEN_KEY_ID=primary
# Comma-separated list of supported platforms.
PLATFORM_SUPPORTED_PLATFORMS=google_ads,meta_ads,tiktok_ads,linkedin_ads,stripe,paypal,shopify,woocommerce

# Application
# Environment flag used for logging/feature toggles.
ENVIRONMENT=dev
LOG_LEVEL=INFO
# Enable AWS control-plane retrieval for managed config/secrets.
SKELDIR_CONTROL_PLANE_ENABLED=0

# Ingestion Configuration
# Idempotency cache TTL in seconds (default: 24h).
IDEMPOTENCY_CACHE_TTL=86400

# Celery Observability
CELERY_METRICS_PORT=9540
CELERY_METRICS_ADDR=0.0.0.0
